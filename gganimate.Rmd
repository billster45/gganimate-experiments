---
title: "Understanding gganimate intuitively"
output: html_document
---
 
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
 
When running this code in chunks inside RStudio you may get an error like this: "Error in gzfile(file, "wb") : cannot open the connection.""
If you do, put the RStudio project in a folder that has a short file path such as your desktop as advised here https://stackoverflow.com/questions/15363076/error-in-gzfilefile-wb-cannot-open-the-connection-or-compressed-file
Even if the error remains it should still knit and createt an html file you can share.

 
```{r}
library(ggplot2)
library(gganimate)
library(transformr) # devtools::install_github("thomasp85/transformr")
library(magick)
library(datasauRus)
library(gapminder)
```
# gganimate::transition_reveal

Adapting this example: https://mitchelloharawild.com/wombat-gganimate/#37

Static ggplot plot
```{r}
head(economics)
p <- 
  ggplot2::ggplot(economics) +
  ggplot2::aes(date, unemploy) +
  ggplot2::geom_line() +
  ggplot2::theme_minimal()
p
```
Animated ggnanimate plot
```{r}
p +
  gganimate::transition_reveal(along = date)

gganimate::animate(p, renderer = magick_renderer())
```
# gganimate::transition_states

This example: https://mitchelloharawild.com/wombat-gganimate/#42

Static ggplot chart
```{r}
head(datasaurus_dozen)
p <- 
  ggplot2::ggplot(data = datasaurus_dozen) +
  ggplot2::aes(x, y) +
  ggplot2::geom_point() +
  facet_wrap(~dataset)  +
  ggplot2::theme_minimal()
p
```

Animated gganimate plot
```{r}
p <- 
  ggplot2::ggplot(data = datasaurus_dozen) +
  ggplot2::aes(x, y) +
  ggplot2::geom_point() +
  # facet_wrap(~dataset)
  gganimate::transition_states(states = dataset, transition_length = 3, state_length = 1) +
  ggplot2::labs(title = "Dataset: {closest_state}") +
  ggplot2::theme_minimal()
  
gganimate::animate(p, renderer = magick_renderer())
```

# gganimate::transition_time and gganimate::shadow_wake

This example: https://mitchelloharawild.com/wombat-gganimate/#74

Static ggplot plot
```{r}
theme_set(theme_bw())

head(gapminder)

p <- 
  ggplot2::ggplot(data = gapminder) + 
  ggplot2::aes(x = gdpPercap, y=lifeExp, size = pop, colour = country) +
  ggplot2::geom_point(show.legend = FALSE) +
  ggplot2::scale_x_log10() +
  ggplot2::scale_color_viridis_d() +
  ggplot2::scale_size(range = c(2, 12)) +
  ggplot2::labs(x = "GDP per capita", y = "Life expectancy") +
  ggplot2::theme_minimal()

p
```

Animated gganimate plot
```{r}
p +
  gganimate::transition_time(time = year) +
  ggplot2::labs(title = "Year: {frame_time}") +
  gganimate::shadow_wake(wake_length = 0.1, alpha = FALSE) +
  ggplot2::theme_minimal()

gganimate::animate(p, renderer = magick_renderer())
```

# gganimate::transition_states and gganimate::shadow_wake

This example: https://mitchelloharawild.com/wombat-gganimate/#57

Static ggplot plot
```{r}
head(iris)

p <- 
  ggplot2::ggplot(iris, aes(Petal.Length, Sepal.Length)) +
  ggplot2::geom_point(size = 2) +
  facet_wrap(~Species) +
  ggplot2::theme_minimal()

p
```
Animated gganimate plot
```{r}
 
p <- 
  ggplot2::ggplot(iris, aes(Petal.Length, Sepal.Length)) +
  ggplot2::geom_point(size = 2) +
  # facet_wrap(~Species)
  gganimate::transition_states(states = Species, transition_length = 4, state_length = 1) +
  ggplot2::labs(title = "{closest_state}") +
  gganimate::shadow_wake(wake_length = 0.1) +
  ggplot2::theme_minimal()

gganimate::animate(p, renderer = magick_renderer())
```

# gganimate::transition_time and gganimate::shadow_mark

This example: https://mitchelloharawild.com/wombat-gganimate/#58

Static ggplot plot
```{r}
head(airquality)

p <- 
  ggplot2::ggplot(airquality, aes(Day, Temp)) +
  ggplot2::geom_line(color = 'steelblue', size = 1) +
  facet_wrap(~Month) +
  ggplot2::theme_minimal()

p
```

Animated gganimate plot
```{r}
p <- 
  ggplot2::ggplot(airquality, aes(Day, Temp)) +
  ggplot2::geom_line(color = 'red', size = 1) +
  # facet_wrap(~Month)
  gganimate::transition_time(time = Month) +
  gganimate::shadow_mark(colour = 'black', size = 0.75) +
  ggplot2::theme_minimal()

gganimate::animate(p, renderer = magick_renderer())
```

